<ng-container *transloco="let t; read: 'attachments'">
  <div>
    <i
      >{{ t("disclaimer") }}
      <a href="mailto:EMCR.DisasterMitigation@gov.bc.ca"
        >EMCR.DisasterMitigation&#64;gov.bc.ca</a
      >.</i
    >
  </div>
  <mat-label class="drr-label" style="display: block; margin-top: 1rem">{{
    t("requiredAttachments")
  }}</mat-label>
  <div style="margin-top: 1rem">
    <i>{{ t("requiredAttachmentsText") }}</i>
  </div>
  <div
    style="margin-top: 1rem; display: flex; flex-direction: column; gap: 1rem"
  >
    <drr-attachment
      [title]="t('SitePlan')"
      [attachmentForm]="getFormByDocumentType('SitePlan')"
      (uploadFiles)="uploadFiles($event)"
      (removeFile)="removeFile($event)"
      (downloadFile)="downloadFile($event)"
      [documentType]="'SitePlan'"
    ></drr-attachment>

    <mat-divider class="extra-space"></mat-divider>

    <drr-attachment
      [title]="t('PreliminaryDesign')"
      [attachmentForm]="getFormByDocumentType('PreliminaryDesign')"
      (uploadFiles)="uploadFiles($event)"
      (removeFile)="removeFile($event)"
      (downloadFile)="downloadFile($event)"
      [documentType]="'PreliminaryDesign'"
    ></drr-attachment>

    <mat-divider class="extra-space"></mat-divider>
  </div>

  <mat-label class="drr-label">{{ t("resolution") }}</mat-label>
  <div style="margin-top: 1rem; margin-left: 2rem">
    <p>{{ t("firstNationResolution") }}</p>
    <p>{{ t("localGovernmentResolution") }}</p>
    <drr-radio-button
      [label]="t('haveResolution')"
      [rxFormControl]="attachmentsForm.get('haveResolution')"
    ></drr-radio-button>
  </div>

  <div *ngIf="attachmentsForm.get('haveResolution')?.value === true">
    <drr-attachment
      [title]="t('resolutionDocument') + '*'"
      [attachmentForm]="getFormByDocumentType('CouncilBoardResolution')"
      (uploadFiles)="uploadFiles($event)"
      (removeFile)="removeFile($event)"
      (downloadFile)="downloadFile($event)"
      [documentType]="'CouncilBoardResolution'"
    ></drr-attachment>
  </div>

  <p *ngIf="attachmentsForm.get('haveResolution')?.value === false">
    {{ t("noResolutionDocument") }}
  </p>

  <mat-divider class="extra-space"></mat-divider>

  <div class="other-attachments-container">
    <drr-attachment
      *ngFor="let otherDocumentControl of getOtherFormArray(); let i = index"
      [title]="i == 0 ? t('otherSupportingDocumentation') : ''"
      [subtitle]="i == 0 ? t('supportingDocumentationOptionalText') : ''"
      [attachmentForm]="getOtherDocumentFormGroup(i)"
      (removeFile)="removeFile($event)"
      (downloadFile)="downloadFile($event)"
    ></drr-attachment>

    <div class="other-attachments-upload">
      @if (getOtherFormArrayCount() == 0) {
        <div>
          <mat-label class="drr-label">
            {{ t("otherSupportingDocumentation") }}
          </mat-label>
          <br />
          <mat-label style="display: block; margin-top: 1rem">{{
            t("supportingDocumentationOptionalText")
          }}</mat-label>
        </div>
      } @else {
        <mat-label>{{ t("attachAdditionalAttachment") }}</mat-label>
      }
      <drr-file-upload
        (filesSelected)="uploadOtherFiles($event)"
        [attachButtonLabel]="t('attachAdditionalAttachment')"
      ></drr-file-upload>
    </div>
  </div>
</ng-container>
