<div class="summary-container" *transloco="let t">
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ t("proponentAndProjectInformation") }}</mat-card-title>
      <mat-card-subtitle>Step 1</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <mat-label class="drr-label">{{ t("primaryProjectContact") }}</mat-label>
      <div class="summary-row">
        <drr-summary-item
          [label]="t('firstName')"
          [rxFormControl]="
            getRxFormControl(
              'proponentAndProjectInformation.projectContact.firstName'
            )
          "
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('lastName')"
          [rxFormControl]="
            getRxFormControl(
              'proponentAndProjectInformation.projectContact.lastName'
            )
          "
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('title')"
          [rxFormControl]="
            getRxFormControl(
              'proponentAndProjectInformation.projectContact.title'
            )
          "
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('department')"
          [rxFormControl]="
            getRxFormControl(
              'proponentAndProjectInformation.projectContact.department'
            )
          "
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('phone')"
          [rxFormControl]="
            getRxFormControl(
              'proponentAndProjectInformation.projectContact.phone'
            )
          "
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('email')"
          [rxFormControl]="
            getRxFormControl(
              'proponentAndProjectInformation.projectContact.email'
            )
          "
        >
        </drr-summary-item>
      </div>

      <div>
        <mat-label class="drr-label">{{ t("additionalContacts") }}</mat-label>
        <div
          class="summary-row"
          *ngFor="
            let additionalContact of getRxFormArrayControls(
              'proponentAndProjectInformation',
              'additionalContacts'
            )
          "
        >
          <drr-summary-item
            [label]="t('firstName')"
            [rxFormControl]="
              convertRxFormControl(additionalContact.get('firstName'))
            "
          >
          </drr-summary-item>

          <drr-summary-item
            [label]="t('lastName')"
            [rxFormControl]="
              convertRxFormControl(additionalContact.get('lastName'))
            "
          >
          </drr-summary-item>

          <drr-summary-item
            [label]="t('title')"
            [rxFormControl]="
              convertRxFormControl(additionalContact.get('title'))
            "
          >
          </drr-summary-item>

          <drr-summary-item
            [label]="t('department')"
            [rxFormControl]="
              convertRxFormControl(additionalContact.get('department'))
            "
          >
          </drr-summary-item>

          <drr-summary-item
            [label]="t('phone')"
            [rxFormControl]="
              convertRxFormControl(additionalContact.get('phone'))
            "
          >
          </drr-summary-item>

          <drr-summary-item
            [label]="t('email')"
            [rxFormControl]="
              convertRxFormControl(additionalContact.get('email'))
            "
          >
          </drr-summary-item>
        </div>
      </div>

      <div>
        <mat-label class="drr-label">{{
          t("partneringProponentsSummary")
        }}</mat-label>
        <div
          class="summary-row"
          *ngFor="
            let proponent of getFormArray(
              'proponentAndProjectInformation',
              'partneringProponents'
            );
            let i = index
          "
        >
          <mat-label>{{ proponent }}</mat-label>
        </div>
      </div>

      <drr-summary-item
        [label]="t('regionalProjectQuestion')"
        [rxFormControl]="
          getRxFormControl('proponentAndProjectInformation.regionalProject')
        "
        [controlType]="'radio'"
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('regionalProjectComments')"
        [rxFormControl]="
          getRxFormControl(
            'proponentAndProjectInformation.regionalProjectComments'
          )
        "
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('projectTitle')"
        [rxFormControl]="
          getRxFormControl('proponentAndProjectInformation.projectTitle')
        "
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('projectType')"
        [rxFormControl]="
          getRxFormControl('proponentAndProjectInformation.scopeStatement')
        "
      >
      </drr-summary-item>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ t("ownershipAndAuthorization") }}</mat-card-title>
      <mat-card-subtitle>Step 2</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <drr-summary-item
        [label]="t('fpOwnershipQuestion')"
        [rxFormControl]="
          getRxFormControl('ownershipAndAuthorization.ownershipDeclaration')
        "
        [controlType]="'radio'"
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('fpOwnershipComments')"
        [rxFormControl]="
          getRxFormControl('ownershipAndAuthorization.ownershipDescription')
        "
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('projectAuthorityQuestion')"
        [rxFormControl]="
          getRxFormControl('ownershipAndAuthorization.projectAuthority')
        "
        [controlType]="'radio'"
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('operationAndMaintenanceQuestion')"
        [rxFormControl]="
          getRxFormControl('ownershipAndAuthorization.operationAndMaintenance')
        "
        [controlType]="'radio'"
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('operationAndMaintenanceComments')"
        [rxFormControl]="
          getRxFormControl(
            'ownershipAndAuthorization.operationAndMaintenanceComments'
          )
        "
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('firstNationsEndorsementQuestion')"
        [rxFormControl]="
          getRxFormControl('ownershipAndAuthorization.firstNationsEndorsement')
        "
        [controlType]="'radio'"
      ></drr-summary-item>

      <drr-summary-item
        [label]="t('localGovernmentEndorsementQuestion')"
        [rxFormControl]="
          getRxFormControl(
            'ownershipAndAuthorization.localGovernmentEndorsement'
          )
        "
        [controlType]="'radio'"
      ></drr-summary-item>

      <drr-summary-item
        [label]="t('authorizationOrEndorsementComments')"
        [rxFormControl]="
          getRxFormControl(
            'ownershipAndAuthorization.authorizationOrEndorsementComments'
          )
        "
      ></drr-summary-item>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ t("projectArea") }}</mat-card-title>
      <mat-card-subtitle>Step 3</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <drr-summary-item
        [label]="t('locationDescription')"
        [rxFormControl]="getRxFormControl('projectArea.locationDescription')"
      >
      </drr-summary-item>

      <mat-label class="drr-label">{{ t("estimatedArea") }}</mat-label>
      <div class="summary-row">
        <drr-summary-item
          [label]="t('area')"
          [rxFormControl]="getRxFormControl('projectArea.area')"
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('units')"
          [rxFormControl]="getRxFormControl('projectArea.units')"
        >
        </drr-summary-item>
      </div>

      <drr-summary-item
        [label]="t('relatedHazardsSummary')"
        [rxFormControl]="getRxFormControl('projectArea.relatedHazards')"
        [controlType]="'array'"
      >
      </drr-summary-item>
      <drr-summary-item
        [label]="t('otherHazardsDescription')"
        [rxFormControl]="
          getRxFormControl('projectArea.otherHazardsDescription')
        "
        *ngIf="
          getRxFormControl('projectArea.relatedHazards')?.value?.includes(
            'Other'
          )
        "
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('areaDescriptionText')"
        [rxFormControl]="getRxFormControl('projectArea.areaDescription')"
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('communityImpactText')"
        [rxFormControl]="getRxFormControl('projectArea.communityImpact')"
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('estimatedPeopleImpacted')"
        [rxFormControl]="
          getRxFormControl('projectArea.estimatedPeopleImpacted')
        "
        [controlType]="'select'"
      >
      </drr-summary-item>

      <mat-label class="drr-label">{{ t("infrastructureImpacted") }}</mat-label>
      <div
        class="summary-row"
        *ngFor="
          let control of getRxFormArrayControls(
            'projectArea',
            'infrastructureImpacted'
          )
        "
      >
        <drr-summary-item
          [label]="t('infrastructure')"
          [rxFormControl]="convertRxFormControl(control.get('infrastructure'))"
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('impact')"
          [rxFormControl]="convertRxFormControl(control.get('impact'))"
        >
        </drr-summary-item>
      </div>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ t("projectPlan") }}</mat-card-title>
      <mat-card-subtitle>Step 4</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <mat-label class="drr-label">{{ t("projectDates") }}</mat-label>
      <div class="summary-row">
        <drr-summary-item
          [label]="t('startDate')"
          [rxFormControl]="getRxFormControl('projectPlan.startDate')"
          [controlType]="'date'"
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('endDate')"
          [rxFormControl]="getRxFormControl('projectPlan.endDate')"
          [controlType]="'date'"
        >
        </drr-summary-item>
      </div>

      <drr-summary-item
        [label]="t('projectDescription')"
        [rxFormControl]="getRxFormControl('projectPlan.projectDescription')"
      >
      </drr-summary-item>

      <mat-label class="drr-label">{{ t("proposedActivities") }}</mat-label>
      <div
        class="summary-row"
        *ngFor="
          let control of getRxFormArrayControls(
            'projectPlan',
            'proposedActivities'
          )
        "
      >
        <drr-summary-item
          [label]="t('activityName')"
          [rxFormControl]="convertRxFormControl(control.get('name'))"
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('startDate')"
          [rxFormControl]="convertRxFormControl(control.get('startDate'))"
          [controlType]="'date'"
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('endDate')"
          [rxFormControl]="convertRxFormControl(control.get('endDate'))"
          [controlType]="'date'"
        >
        </drr-summary-item>

        <drr-summary-item
          [label]="t('relatedMilestone')"
          [rxFormControl]="
            convertRxFormControl(control.get('relatedMilestone'))
          "
        >
        </drr-summary-item>
      </div>

      <drr-summary-item
        [label]="t('verificationMethods')"
        [rxFormControl]="getRxFormControl('projectPlan.verificationMethods')"
        [controlType]="'array'"
        [translate]="false"
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('verificationMethodsComments')"
        [rxFormControl]="
          getRxFormControl('projectPlan.verificationMethodsComments')
        "
      >
      </drr-summary-item>

      <drr-summary-item
        [label]="t('projectAlternatesText')"
        [rxFormControl]="
          getRxFormControl('projectPlan.projectAlternateOptions')
        "
      >
      </drr-summary-item>
    </mat-card-content>
  </mat-card>
</div>
