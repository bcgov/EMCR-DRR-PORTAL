<div class="app-stepper-container" *transloco="let t">
  <div class="app-stepper-header">
    <div style="flex: 1">
      <h5 style="font-size: 1.2rem; margin-bottom: 0.5rem">Progress Report</h5>
      <!-- <span>
          {{ t("project") }}: {{ project?.name }} ({{ project?.id }})
        </span> -->
    </div>
    <div>
      <div class="header-actions">
        <button mat-stroked-button color="primary" (click)="goBack()">
          {{ t("exitForm") }}
        </button>
        <button mat-flat-button color="primary" (click)="save()">
          <mat-icon>save</mat-icon>
          Save
        </button>
      </div>
      <!-- <div class="save-info">
          <div style="display: flex; flex-direction: row; gap: 1rem">
            <i *ngIf="autoSaveCountdown <= 30 && autoSaveCountdown > 0"
              >Saving in {{ autoSaveCountdown }}
              {{ autoSaveCountdown === 1 ? "second" : "seconds" }}...
            </i>
            <i
              *ngIf="
                lastSavedAt && (autoSaveCountdown === 0 || autoSaveCountdown > 30)
              "
              >Saved at {{ lastSavedAt | date : "mediumTime" }}</i
            >
          </div>
        </div> -->
    </div>
  </div>
  <mat-stepper
    class="app-stepper"
    [linear]="false"
    labelPosition="bottom"
    (selectionChange)="stepperSelectionChange($event)"
    [orientation]="stepperOrientation"
    #stepper
  >
    <mat-step label="Instructions">
      <div>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras a
          suscipit lectus. Sed molestie dolor nec tortor hendrerit consequat. In
          at mauris vel lorem molestie rutrum. Curabitur dictum ligula id
          fermentum ultrices. In vel tortor volutpat, ultrices ipsum vel,
          lacinia eros. Curabitur quis lectus et ipsum sagittis semper et
          commodo turpis. Curabitur viverra felis vel consectetur fringilla.
          Nunc eu egestas magna, eget tincidunt ex. Integer accumsan, velit eget
          faucibus ornare, enim risus accumsan dui, congue luctus dui eros sed
          nunc. Vestibulum et blandit libero. Fusce nec mauris interdum, cursus
          nibh ut, tristique leo. Nullam rhoncus, lectus ac euismod semper,
          massa lacus elementum ipsum, vel mollis lacus sem in ante. Mauris a
          dignissim nunc. Duis mollis facilisis odio, nec interdum enim
          malesuada sed. Fusce congue tristique fermentum.
        </p>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras a
          suscipit lectus. Sed molestie dolor nec tortor hendrerit consequat. In
          at mauris vel lorem molestie rutrum. Curabitur dictum ligula id
          fermentum ultrices. In vel tortor volutpat, ultrices ipsum vel,
          lacinia eros.
        </p>
      </div>
      <div class="drr-stepper-action">
        <button
          id="next1"
          mat-flat-button
          color="primary"
          matStepperNext
          type="button"
        >
          {{ t("next") }}
        </button>
      </div>
    </mat-step>
    <mat-step label="Workplan Report">
      <div style="display: flex; flex-direction: column; gap: 1rem">
        <mat-label class="drr-label"> Project Start / Finish</mat-label>
        <div>
          <div style="display: flex; gap: 1rem">
            <drr-radio-button
              class="drr-single-input"
              label="Status"
              [options]="progressReportOptions"
              [rxFormControl]="progressReportForm.get('projectProgress')"
            ></drr-radio-button>
            <drr-datepicker
              class="drr-single-input"
              label="Report Date"
              [rxFormControl]="progressReportForm.get('projectProgressDate')"
            ></drr-datepicker>
          </div>
          <drr-textarea
            label="Comments"
            [rxFormControl]="progressReportForm.get('projectProgressComment')"
          ></drr-textarea>
        </div>
        <mat-label class="drr-label">
          First Nations Engagement Start / Finish</mat-label
        >
        <div>
          <div style="display: flex; gap: 1rem">
            <drr-radio-button
              class="drr-single-input"
              label="Status"
              [options]="progressReportOptions"
              [rxFormControl]="
                progressReportForm.get('firstNationEngagementProgress')
              "
            ></drr-radio-button>
            <drr-datepicker
              class="drr-single-input"
              label="Report Date"
              [rxFormControl]="
                progressReportForm.get('firstNationEngagementProgressDate')
              "
            ></drr-datepicker>
          </div>
          <drr-textarea
            label="Comments"
            [rxFormControl]="
              progressReportForm.get('firstNationEngagementProgressComment')
            "
          ></drr-textarea>
        </div>
        <mat-label class="drr-label"> Design Start / Finish</mat-label>
        <div>
          <div style="display: flex; gap: 1rem">
            <drr-radio-button
              class="drr-single-input"
              label="Status"
              [options]="progressReportOptions"
              [rxFormControl]="progressReportForm.get('designProgress')"
            ></drr-radio-button>
            <drr-datepicker
              class="drr-single-input"
              label="Report Date"
              [rxFormControl]="progressReportForm.get('designProgressDate')"
            ></drr-datepicker>
          </div>
          <drr-textarea
            label="Comments"
            [rxFormControl]="progressReportForm.get('designProgressComment')"
          ></drr-textarea>
        </div>
        <mat-label class="drr-label">
          Construction Tender Start / Finish</mat-label
        >
        <div>
          <div style="display: flex; gap: 1rem">
            <drr-radio-button
              class="drr-single-input"
              label="Status"
              [options]="progressReportOptions"
              [rxFormControl]="
                progressReportForm.get('constructionTenderProgress')
              "
            ></drr-radio-button>
            <drr-datepicker
              class="drr-single-input"
              label="Report Date"
              [rxFormControl]="
                progressReportForm.get('constructionTenderProgressDate')
              "
            ></drr-datepicker>
          </div>
          <drr-textarea
            label="Comments"
            [rxFormControl]="
              progressReportForm.get('constructionTenderProgressComment')
            "
          ></drr-textarea>
        </div>
        <mat-label class="drr-label">
          Construction Contract Start / Finish</mat-label
        >
        <div>
          <div style="display: flex; gap: 1rem">
            <drr-radio-button
              class="drr-single-input"
              label="Status"
              [options]="progressReportOptions"
              [rxFormControl]="
                progressReportForm.get('constractionContractProgress')
              "
            ></drr-radio-button>
            <drr-datepicker
              class="drr-single-input"
              label="Report Date"
              [rxFormControl]="
                progressReportForm.get('constractionContractProgressDate')
              "
            ></drr-datepicker>
          </div>
          <drr-textarea
            label="Comments"
            [rxFormControl]="
              progressReportForm.get('constractionContractProgressComment')
            "
          ></drr-textarea>
        </div>
        <mat-label class="drr-label">
          Permit to Construct Start / Finish</mat-label
        >
        <div>
          <div style="display: flex; gap: 1rem">
            <drr-radio-button
              class="drr-single-input"
              label="Status"
              [options]="progressReportOptions"
              [rxFormControl]="
                progressReportForm.get('permitToConstructProgress')
              "
            ></drr-radio-button>
            <drr-datepicker
              class="drr-single-input"
              label="Report Date"
              [rxFormControl]="
                progressReportForm.get('permitToConstructProgressDate')
              "
            ></drr-datepicker>
          </div>
          <drr-textarea
            label="Comments"
            [rxFormControl]="
              progressReportForm.get('permitToConstructProgressComment')
            "
          ></drr-textarea>
        </div>
        <mat-label class="drr-label"> Construction Start / Finish</mat-label>
        <div>
          <div style="display: flex; gap: 1rem">
            <drr-radio-button
              class="drr-single-input"
              label="Status"
              [options]="progressReportOptions"
              [rxFormControl]="progressReportForm.get('constructionProgress')"
            ></drr-radio-button>
            <drr-datepicker
              class="drr-single-input"
              label="Report Date"
              [rxFormControl]="
                progressReportForm.get('constructionProgressDate')
              "
            ></drr-datepicker>
          </div>
          <drr-textarea
            label="Comments"
            [rxFormControl]="
              progressReportForm.get('constructionProgressComment')
            "
          ></drr-textarea>
        </div>
        <mat-label class="drr-label">
          Percentage of Project Complete as of report date
        </mat-label>
        <drr-input
          class="drr-single-input"
          label="Percentage"
          [rxFormControl]="
            progressReportForm.get('projectCompletionPercentage')
          "
        ></drr-input>

        <mat-label class="drr-label"> Community Media Announcements</mat-label>
        <drr-radio-button
          class="drr-single-input"
          label="Please select below"
          [options]="yesNoNaOptions"
          [rxFormControl]="progressReportForm.get('communityMedia')"
        ></drr-radio-button>
        <drr-datepicker
          class="drr-single-input"
          label="Date of Announcement"
          [rxFormControl]="progressReportForm.get('communityMediaDate')"
        ></drr-datepicker>
        <drr-textarea
          label="Comments"
          [rxFormControl]="progressReportForm.get('communityMediaComment')"
        ></drr-textarea>
        <mat-label class="drr-label"> Provincial Media Announcements</mat-label>
        <drr-radio-button
          class="drr-single-input"
          label="Please select below"
          [options]="yesNoNaOptions"
          [rxFormControl]="progressReportForm.get('provincialMedia')"
        ></drr-radio-button>
        <drr-datepicker
          class="drr-single-input"
          label="Date of Announcement"
          [rxFormControl]="progressReportForm.get('provincialMediaDate')"
        ></drr-datepicker>
        <drr-textarea
          label="Comments"
          [rxFormControl]="progressReportForm.get('provincialMediaComment')"
        ></drr-textarea>
        <mat-label class="drr-label"> Works Completed </mat-label>
        <drr-textarea
          label="Please provide a bulleted list of works completed since the last project report"
          [rxFormControl]="progressReportForm.get('worksCompleted')"
        ></drr-textarea>
        <mat-label class="drr-label"> Outstanding Issues </mat-label>
        <drr-textarea
          label="Please provide any details on any outstanding issues"
          [rxFormControl]="progressReportForm.get('outstandingIssues')"
        ></drr-textarea>
        <mat-label class="drr-label"> Changes to Funding Srouces </mat-label>
        <drr-select
          class="drr-single-input"
          label="Have there been changes to other funding sources in the last quarter?"
          [rxFormControl]="progressReportForm.get('fundingSourceChanged')"
          [options]="yesNoOptions"
        ></drr-select>
        <drr-textarea
          label="Please provide details on any changes to other funding sources"
          [rxFormControl]="
            progressReportForm.get('fundingSourceChangedComment')
          "
        ></drr-textarea>
      </div>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next2"
          mat-flat-button
          color="primary"
          matStepperNext
          type="button"
        >
          {{ t("next") }}
        </button>
      </div></mat-step
    >
    <mat-step label="Event Report">
      <div style="display: flex; flex-direction: column; gap: 1rem"></div>
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next2"
          mat-flat-button
          color="primary"
          matStepperNext
          type="button"
        >
          {{ t("next") }}
        </button>
      </div></mat-step
    >
    <mat-step label="Attachments">
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next2"
          mat-flat-button
          color="primary"
          matStepperNext
          type="button"
        >
          {{ t("next") }}
        </button>
      </div></mat-step
    >
    <mat-step label="Review & Declarations">
      <div class="drr-stepper-actions">
        <button mat-stroked-button color="primary" matStepperPrevious>
          {{ t("back") }}
        </button>
        <button
          id="next2"
          mat-flat-button
          color="primary"
          matStepperNext
          type="button"
        >
          {{ t("next") }}
        </button>
      </div></mat-step
    >
  </mat-stepper>
</div>
